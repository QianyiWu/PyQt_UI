import sys
from PyQt4 import QtCore, QtGui


class MyWindow(QtGui.QMainWindow):
    """
        Mainwindow Class
    """
    def __init__(self):
        super(MyWindow, self).__init__()

        self._init_ui()

    def _init_ui(self):
        """
            UI initialization
        """
        # QtGui.QToolTip.setFont(QtGui.QFont('SansSerif', 10, QtGui.QFont.Black))
        # QtGui.QToolTip.setPalette(QtGui.QPalette.)

        windows = QtGui.QWidget(self)   # MainWindows
        self.setCentralWidget(windows)

        vbox = QtGui.QVBoxLayout()
        hbox = QtGui.QHBoxLayout()

        self.button_menu = QtGui.QFrame(self)
        self.button_menu.setFrameStyle(QtGui.QFrame.NoFrame)
        self.button_menu.setToolTip('This are <b>button</b> widgets')
        self.create_btn_menu()

        self.image_show_ = QtGui.QLabel(self)
        self.image_show_.setFrameStyle(QtGui.QFrame.StyledPanel)

        self.select_image_ = QtGui.QFrame()
        self.select_image_.setFrameStyle(QtGui.QFrame.WinPanel)

        splitter = QtGui.QSplitter(QtCore.Qt.Vertical)
        splitter.addWidget(self.select_image_)
        splitter.addWidget(self.image_show_)
        splitter.setStretchFactor(0, 1)
        splitter.setStretchFactor(1, 1)

        vbox.addWidget(splitter)
        hbox.addWidget(self.button_menu)
        hbox.addLayout(hbox)
        windows.setLayout(hbox)

        QtGui.QApplication.setStyle(QtGui.QStyleFactory.create('Cleanlooks'))

        self.resize(100, 100)
        # self.showFullScreen()
        # self.center()
        self.setWindowTitle("User Interface")

        self.setWindowIcon(QtGui.QIcon("Icon/Program.jpg"))
        self.statusBar().showMessage('User Interface')
        self.show()

    # def center(self):
    #     qr = self.frameGeometry()
    #     cp = QtGui.QDesktopWidget().availableGeometry().center()
    #     qr.moveCenter(cp)
    #     self.move(qr.topLeft())

    def create_btn_menu(self):
        open_btn = QtGui.QPushButton('Open File', self)
        QtCore.QObject.connect(open_btn, QtCore.SIGNAL('clicked()'), self.fileopen)

        btn_layout = QtGui.QVBoxLayout()
        btn_layout.addStretch(10)
        btn_layout.addWidget(open_btn)
        self.button_menu.setLayout(btn_layout)

    def fileopen(self):
        fname = QtGui.QFileDialog.getOpenFileName(self, 'Open File', '/home/wooqy', self.tr("Images(*.bmp *.jpg *.png)"))
        f = open(fname, 'r')

        with f:
            print(f)
            img = QtGui.QPixmap(f.name)
            # scale

            self.image_show_.setPixmap(img)


def main():

    app = QtGui.QApplication(sys.argv)
    win = MyWindow()
    win.show()
    sys.exit(app.exec_())


if __name__ == '__main__':
    main()

